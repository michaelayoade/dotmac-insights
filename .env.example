# Environment
ENVIRONMENT=development  # development, staging, production

# API Security (REQUIRED for production)
API_KEY=your_secure_api_key_here  # Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
CORS_ORIGINS=https://dashboard.dotmac.ng,https://admin.dotmac.ng  # Comma-separated allowed origins

# Database - Option 1: Full connection URL
DATABASE_URL=postgresql+psycopg://user:password@localhost:5432/dotmac_insights

# Database - Option 2: For Docker Compose (uses env vars to build URL)
POSTGRES_USER=dotmac
POSTGRES_PASSWORD=your_secure_password_here  # REQUIRED - change this!
POSTGRES_DB=dotmac_insights

# Splynx API
SPLYNX_API_URL=https://your-splynx-instance.splynx.app/api/2.0
# Option 1: Basic Auth (recommended - simpler)
SPLYNX_AUTH_BASIC=base64_encoded_key_secret  # Base64 of "api_key:api_secret"
# Option 2: Token Auth (legacy)
SPLYNX_API_KEY=your_api_key
SPLYNX_API_SECRET=your_api_secret

# ERPNext API
ERPNEXT_API_URL=https://your-erpnext-instance.com
ERPNEXT_API_KEY=your_api_key
ERPNEXT_API_SECRET=your_api_secret

# Chatwoot API
CHATWOOT_API_URL=https://your-chatwoot-instance.com/api/v1
CHATWOOT_API_TOKEN=your_access_token
CHATWOOT_ACCOUNT_ID=1

# Sync Settings
SYNC_INTERVAL_MINUTES=15
FULL_SYNC_HOUR=2  # Run full sync at 2 AM

# Redis (REQUIRED for Celery background tasks)
# When set, sync tasks run via Celery workers with:
# - Distributed locks preventing duplicate runs
# - Auto-retry on failure
# - Beat scheduler for periodic syncs
# When unset, syncs run in-process via asyncio (dev mode)
REDIS_URL=redis://localhost:6379/0
